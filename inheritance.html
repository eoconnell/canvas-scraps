<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
<style>
#myCanvas {
	border: 1px solid black;
}
</style>
</head>
<body>
	<canvas id="myCanvas" width="600" height="600"></canvas>

<script>

var canvas = document.getElementById('myCanvas');
var context = canvas.getContext('2d');

/*
	ParentClass.prototype.inheritedMethod = function() {};

	ChildeClass.prototype = new ParentClass();
	ChildeClass.prototype.constructor = ChildClass;
*/


/////////////////////////////////////
// Shape Object
/////////////////////////////////////
function Shape() {
	this.x = 0;
	this.y = 0;
	this.dx = 1;
	this.dy = 1;
	this.color = 'red';
}

Shape.prototype.step = function() {
	this.x = this.x + this.dx;
	this.y = this.y + this.dy;
}

Shape.prototype.setColor = function(color) {
	this.color = color;
}

Shape.prototype.toString = function() {
	return '[Shape {x: '+this.x+', y: '+this.y+', dx: '+this.dx+', dy: '+this.dy+']';
}

/////////////////////////////////////
// Box Object - extends Shape
/////////////////////////////////////
Box.prototype = new Shape();
Box.prototype.constructor = Box;

function Box(x,y,w,h) {
	this.x = x;
	this.y = y;
	this.w = w;
	this.h = h;
}

Box.prototype.draw = function(ctx) {
	ctx.fillStyle = this.color;
	ctx.fillRect(this.x,this.y,this.w,this.h);
}

Box.prototype.intersect = function(that) {
	if ((this.x+this.w) < that.x) { return false; }  // this is left of that
	if (this.x > (that.x+that.w)) { return false; }  // this is right of that
	if ((this.y+this.h) < that.y) { return false; }  // this is above that
	if (this.y > (that.y+that.h)) { return false; }  // this is bloew that
	return true;                                     // this overlaps that
}

Box.prototype.toString = function() {
	return '[Box {x: '+this.x+', y: '+this.y+', dx: '+this.dx+', dy: '+this.dy+', width: '+this.w+', height: '+this.h+']';
}

/////////////////////////////////////
// Ball Object - extends Shape
/////////////////////////////////////
Ball.prototype = new Box();
Ball.prototype.constructor = Ball;

function Ball(x,y,r) {
	this.x = x;
	this.y = y;
	this.radius = r;
	this.w = this.h = (2 * r);
}

Ball.prototype.draw = function(ctx) {
	ctx.fillStyle = this.color;
	ctx.beginPath();
	ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2, true);
	ctx.fill();
}

Ball.prototype.toString = function() {
	return '[Ball {x: '+this.x+', y: '+this.y+', dx: '+this.dx+', dy: '+this.dy+', radius: '+this.radius+', color: '+this.color+']';
}

/////////////////////////////////////
/////////////////////////////////////

var b1 = new Ball(10, 10, 10);
var b2 = new Ball(50, 50, 30);

function clear() {
	context.clearRect(0, 0, canvas.width, canvas.height);
}

// function draw() {
// 	clear();
// 	b1.draw(context);
// 	b2.draw(context);

// 	b1.step();
// 	b2.step();
// }

// draw();
// setInterval(draw, 10);

var a = new Box(50,50,100,100);
a.draw(context);

var b = new Box(50,151,100,100);
b.setColor('blue');
b.draw(context);

console.log(a.intersect(b));
console.log(b.intersect(a));
</script>
</body>
</html>