<!DOCTYPE html>

<html>
<head>
	<title>Canvas Tut 1</title>
<style>
	* { margin: 0; padding: 0; }
	html, body { height: 100%; width: 100%; }
	canvas { display: block; }
</style>
</head>
<body>

	<canvas id="mainCanvas">
		<!-- Insert fallback content -->
	</canvas>

<script>

	var canvas = document.getElementById("mainCanvas");
	canvas.width  = window.innerWidth;
	canvas.height = window.innerHeight;
	context = canvas.getContext('2d');

	var dX = 1;
	var dY = 1;

	var x = 20;
	var y = 20;

	
	window.onresize = function(event) {
		console.log('W: '+window.innerWidth+' H: '+window.innerHeight);
		canvas.width  = window.innerWidth;
		canvas.height = window.innerHeight;
	}

	function draw() {
		clear();
		context.fillStyle = 'red';

		if (x >= canvas.width || x <= 0) {
			dX = (dX * -1);
		}

		x = x + dX;
		console.log(x);
    	context.fillRect(x, y, 30, 30);
	}

	function clear() {
		context.clearRect(0, 0, canvas.width, canvas.height);
	}



	draw();
	setInterval(draw, 10);
	
</script>
</body>
</html>